<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ê³µë³µ ë‹¤ì´ì–´íŠ¸ í‘¸ë“œ (ìµœì¢…ìˆ˜ì •)</title>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css" />
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: 'Pretendard', sans-serif;
            height: 100vh; overflow: hidden; color: #333;
            /* ì˜¤ë¡œë¼ ë°°ê²½ */
            background: linear-gradient(-45deg, #FF9A9E, #FECFEF, #E0C3FC, #A18CD1);
            background-size: 400% 400%;
            animation: gradientBG 12s ease infinite;
            display: flex; justify-content: center; align-items: center;
        }
        @keyframes gradientBG { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

        /* ë¡œë”© í™”ë©´ */
        #loader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #fff; z-index: 9999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: opacity 0.5s;
        }
        .loader-spinner {
            width: 40px; height: 40px; border: 4px solid #eee;
            border-top: 4px solid #FF9A9E; border-radius: 50%;
            animation: spin 1s linear infinite; margin-bottom: 15px;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* ì»¨í…Œì´ë„ˆ: ìœ„ë¡œ ë°°ì¹˜ */
        .container {
            width: 100%; height: 100%;
            display: flex; flex-direction: column; align-items: center;
            /* í•µì‹¬ ìˆ˜ì •: ìƒë‹¨ ì—¬ë°±ì„ ì£¼ê³  í•˜ë‹¨ì„ ë¹„ì›€ */
            padding-top: 10vh; 
            padding-bottom: 40vh; /* í•˜ë‹¨ 40% ê³µë°± í™•ë³´ */
            justify-content: flex-start; /* ìœ„ìª½ ì •ë ¬ */
        }

        header { text-align: center; margin-bottom: 2vh; z-index: 10; }
        .sub-badge {
            background: rgba(255, 255, 255, 0.8); color: #D81B60;
            padding: 4px 12px; border-radius: 20px;
            font-weight: 800; font-size: 0.8rem;
            display: inline-block; margin-bottom: 5px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        h1 {
            font-size: 2.0rem; font-weight: 900; color: #fff;
            line-height: 1.2; letter-spacing: -1px;
            text-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        /* ì´ë¯¸ì§€ ì˜ì—­ */
        .visual-area {
            position: relative;
            width: 70vw; max-width: 280px;
            height: 70vw; max-height: 280px;
            margin-bottom: -40px; /* ì¹´ë“œì™€ ê²¹ì¹¨ */
            z-index: 1;
            flex-shrink: 0; /* ì°Œê·¸ëŸ¬ì§ ë°©ì§€ */
        }
        .img-circle {
            width: 100%; height: 100%; border-radius: 50%;
            border: 5px solid #fff;
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
            overflow: hidden; background: #eee;
        }
        .food-img {
            width: 100%; height: 100%; object-fit: cover;
            transition: transform 0.5s ease;
        }
        .zoom-effect { transform: scale(1.1); }

        /* ì„¤ëª… ì¹´ë“œ (ë†’ì´ ì¶•ì†Œ ìˆ˜ì •ë¨) */
        .glass-card {
            width: 88%; max-width: 350px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border-radius: 30px;
            
            /* í•µì‹¬ ìˆ˜ì •: íŒ¨ë”©ì„ ì¤„ì—¬ì„œ ë†’ì´ë¥¼ ë‚®ì¶¤ */
            padding: 50px 20px 20px 20px; 
            
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.5);
            z-index: 2;
            transform: translateY(30px); opacity: 0;
            transition: all 0.4s cubic-bezier(0.2, 0.8, 0.2, 1);
        }
        .glass-card.show { transform: translateY(0); opacity: 1; }

        .title-text {
            display: block; font-size: 1.6rem; font-weight: 800;
            color: #1a1a1a; margin-bottom: 5px; letter-spacing: -0.5px;
        }
        .desc-text {
            font-size: 1.0rem; color: #555; font-weight: 600;
            line-height: 1.35; word-break: keep-all;
        }

        .counter {
            position: absolute; top: 0; right: 0;
            background: #222; color: #fff; width: 50px; height: 50px;
            border-radius: 50%; display: flex; justify-content: center; align-items: center;
            font-weight: 800; font-size: 1rem; border: 3px solid #fff; z-index: 5;
            box-shadow: 0 5px 10px rgba(0,0,0,0.2);
        }

        .save-btn {
            position: absolute; bottom: 30px; right: 30px;
            background: rgba(0,0,0,0.6); color: #fff;
            padding: 8px 12px; border-radius: 20px;
            font-size: 0.75rem; border: none; cursor: pointer; z-index: 999;
        }
    </style>
</head>
<body>

    <div id="loader">
        <div class="loader-spinner"></div>
        <p style="font-weight: 700; color:#888; font-size: 0.9rem;">ì´ë¯¸ì§€ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
    </div>

    <div class="container">
        <header>
            <div class="sub-badge">ğŸ¥‘ ì €íƒ„ê³ ì§€(LCHF)</div>
            <h1>ì•„ì¹¨ ê³µë³µ<br>ìµœê³ ì˜ ìŒì‹</h1>
        </header>

        <div class="visual-area">
            <div class="counter" id="counter">1</div>
            <div class="img-circle">
                <img id="mainImg" src="" alt="Food" class="food-img">
            </div>
        </div>

        <div class="glass-card" id="infoCard">
            <span class="title-text" id="name">ì¤€ë¹„ì¤‘...</span>
            <span class="desc-text" id="desc">ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”</span>
        </div>
    </div>

    <button class="save-btn" onclick="downloadFile()" id="downBtn">ğŸ“¥ ì €ì¥</button>

    <script>
        // ì˜¤ë¥˜ ë‚˜ë˜ 6,7,8ë²ˆ ì´ë¯¸ì§€ êµì²´ ì™„ë£Œ
        const foods = [
            { 
                n: "ë”°ëœ»í•œ ë¬¼", d: "ë°¤ìƒˆ ìŒ“ì¸ ë…ì†Œ ë°°ì¶œ & ëŒ€ì‚¬ ê¹¨ìš°ê¸°", 
                src: "https://images.unsplash.com/photo-1548839140-29a749e1cf4d?w=600&q=80" 
            },
            { 
                n: "ì‚¶ì€ ë‹¬ê±€", d: "ë‹¨ë°±ì§ˆ ê½‰ ì±„ìš´ í¬ë§Œê°, ì‹ìš• ì¡°ì ˆ", 
                src: "https://images.unsplash.com/photo-1491524062933-cb0289261700?w=600&q=80" 
            },
            { 
                n: "ì•„ë³´ì¹´ë„", d: "ì°©í•œ ì§€ë°©ìœ¼ë¡œ ì—ë„ˆì§€ ì¶©ì „ & í”¼ë¶€ ë¯¸ìš©", 
                src: "https://images.unsplash.com/photo-1601039641847-7857b994d704?w=600&q=80" 
            },
            { 
                n: "ê·¸ë¦­ ìš”ê±°íŠ¸", d: "ì¥ íŠ¼íŠ¼ ìœ ì‚°ê·  í­íƒ„ (ë¬´ê°€ë‹¹ ì¶”ì²œ)", 
                src: "https://images.unsplash.com/photo-1488477181946-6428a0291777?w=600&q=80" 
            },
            { 
                n: "ë¸”ë£¨ë² ë¦¬", d: "ë‡Œì„¸í¬ ê¹¨ìš°ëŠ” í•­ì‚°í™” í‘¸ë“œ", 
                src: "https://images.unsplash.com/photo-1498557850523-fd3d118b962e?w=600&q=80" 
            },
            { 
                n: "ì–‘ë°°ì¶”", d: "ìœ„ë²½ ë³´í˜¸í•˜ê³  ì† í¸í•˜ê²Œ í•˜ë£¨ ì‹œì‘", 
                src: "https://images.unsplash.com/photo-1550179294-325d22227d8e?w=600&q=80" 
            },
            // [êµì²´] ê²¬ê³¼ë¥˜ (ì˜¤ë¥˜ í•´ê²°)
            { 
                n: "ê²¬ê³¼ë¥˜", d: "í˜ˆë‹¹ ì•ˆì •ì‹œí‚¤ëŠ” ì²œì—° ì˜ì–‘ì œ", 
                src: "https://images.unsplash.com/photo-1554629474-0f2c4199c904?w=600&q=80" 
            },
            // [êµì²´] ë°©íƒ„ ì»¤í”¼ (ì˜¤ë¥˜ í•´ê²°)
            { 
                n: "ë°©íƒ„ ì»¤í”¼", d: "ì§€ë°© ì—°ì†Œ ëª¨ë“œ! í™œë ¥ ë¶€ìŠ¤í„°", 
                src: "https://images.unsplash.com/photo-1517701604599-bb29b5c73553?w=600&q=80" 
            },
            // [êµì²´] ì• ì‚¬ë¹„ (ì˜¤ë¥˜ í•´ê²°)
            { 
                n: "ì• ì‚¬ë¹„ (ì‹ì´ˆ)", d: "í˜ˆë‹¹ ìŠ¤íŒŒì´í¬ ë°©ì–´ (ë¬¼ì— íƒ€ì„œ)", 
                src: "https://images.unsplash.com/photo-1618331835717-801e976710b2?w=600&q=80" 
            }
        ];

        let idx = 0;
        const imgEl = document.getElementById('mainImg');
        const cardEl = document.getElementById('infoCard');
        const nameEl = document.getElementById('name');
        const descEl = document.getElementById('desc');
        const countEl = document.getElementById('counter');
        const loader = document.getElementById('loader');

        let loadedCount = 0;
        const totalImages = foods.length;

        // ì´ë¯¸ì§€ í”„ë¦¬ë¡œë”©
        function preloadImages() {
            foods.forEach(item => {
                const img = new Image();
                img.src = item.src;
                const onFinish = () => {
                    loadedCount++;
                    if (loadedCount === totalImages) {
                        setTimeout(() => {
                            loader.style.opacity = '0';
                            setTimeout(() => { loader.style.display = 'none'; startAnimation(); }, 500);
                        }, 500);
                    }
                };
                img.onload = onFinish;
                img.onerror = onFinish; // ì—ëŸ¬ë‚˜ë„ ì§„í–‰
            });
        }

        function updateDisplay() {
            const item = foods[idx];

            imgEl.classList.remove('zoom-effect');
            imgEl.src = item.src;
            setTimeout(() => imgEl.classList.add('zoom-effect'), 50);

            countEl.innerText = idx + 1;
            nameEl.innerText = item.n;
            descEl.innerText = item.d;

            cardEl.classList.remove('show');
            setTimeout(() => { cardEl.classList.add('show'); }, 100);

            idx = (idx + 1) % foods.length;
        }

        function startAnimation() {
            updateDisplay();
            setInterval(updateDisplay, 2000);
        }

        preloadImages();

        function downloadFile() {
            const btn = document.getElementById('downBtn');
            btn.style.display = 'none';
            const htmlContent = document.documentElement.outerHTML;
            const blob = new Blob([htmlContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'diet_fixed.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            setTimeout(() => { btn.style.display = 'block'; }, 1000);
        }
    </script>
</body>
</html>
